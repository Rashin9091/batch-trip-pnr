<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
</head>
<body>

<h2>Add PNR</h2>

<input type="text" id="pnrInput" placeholder="Enter 10 digit PNR">
<button onclick="addPNR()">Add</button>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "YOUR_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function addPNR() {
  const pnr = document.getElementById("pnrInput").value;

  if(pnr.length !== 10) {
    alert("Invalid PNR");
    return;
  }

  await addDoc(collection(db, "pnrs"), {
    pnr: pnr,
    lastUpdated: null,
    status: "Checking..."
  });

  alert("PNR Added Successfully!");
}

window.addPNR = addPNR;

</script>

</body>
</html>
